<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61317191-1', 'auto');
  ga('send', 'pageview');

</script>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Activity Split Animation</title>
	
	<meta name="author" content="Udi Cohen">

	<!-- Enable responsive viewport -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">



	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Le styles -->
	<link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
	<link href="/assets/css/style.css" rel="stylesheet">

	<!-- Le fav and touch icons -->
	<!-- Update these with your own images
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
	-->

	<link rel="alternate" type="application/rss+xml" title="" href="/feed.xml">
</head>

<body>
	<nav class="navbar navbar-default visible-xs" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
			<a type="button" class="navbar-toggle nav-link" href="http://github.com/udinic">
				<i class="fa fa-github"></i>
			</a>
			
			
			<a type="button" class="navbar-toggle nav-link" href="http://twitter.com/udinic">
				<i class="fa fa-twitter"></i>
			</a>
			
			
			<a class="navbar-brand" href="/">
				<img src="http://www.gravatar.com/avatar/107169775092a3ef4ae94fad5695613a?s=35" class="img-circle" />
				
			</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
 		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/archives">Archives</a></li>
				<li><a href="/about">About</a></li>
			</ul>
		</div><!-- /.navbar-collapse -->
	</nav>

	<!-- nav-menu-dropdown -->
<!-- 	<div class="btn-group hidden-xs" id="nav-menu">
		<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			<i class="fa fa-bars"></i>
		</button>
		<ul class="dropdown-menu" role="menu">
			<li><a href="/"><i class="fa fa-home"></i>Home</a></li>
			<li><a href="/categories.html"><i class="fa fa-folder"></i>Categories</a></li>
			<li><a href="/tags.html"><i class="fa fa-tags"></i>Tags</a></li>
			<li class="divider"></li>
			<li><a href="#"><i class="fa fa-arrow-up"></i>Top of Page</a></li>
		</ul>
	</div>
 -->
	<div class="col-sm-3 sidebar hidden-xs">
		<! -- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<i class="fa fa-cube" ></i>
	</a>

</header>

<div class="text-center sidebar-title">
	UDI COHEN
</div>	


<div class="text-center sidebar-bio">
	My adventures
</div>


	<!-- <i class="fa fa-square"></i> -->

<div class="text-center sidebar-links">
	<a href="/">Home</a>
	| 
	<a href="/archives">Archives</a>	
	|
	<a href="/about">About</a>
</div>

<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm twitter" href="https://twitter.com/udinic">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm github" href="https://github.com/udinic">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		
		<li>
			<a class="btn btn-default btn-sm linkedin" href="https://linkedin.com/in/udinic">
				<i class="fa fa-linkedin fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm rss" href="/feed.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>
<! -- sidebar.html end -->

	</div>

	<div class="col-sm-9 col-sm-offset-3 main-content">
		<div class="page-header">
  <h1>Activity Split Animation </h1>
</div>
	
<article>

	<div class="col-sm-10">
	 <span class="post-date">
	   
	   March 
	   13th,
	   
	   2013
	 </span>
	  <div class="article_body">
	  <p>This week I had the time to write a small and cool transition animation between Activities.</p>

<p>The regular transition animations between activities animate the Activity as a whole. I wanted to create an animation that split Activity A into 2 parts, animate them in the way out and revealing Activity B. Here’s a gif that illustrate this:</p>

<p><a href="/assets/images/2013-03-13-activity-split-animation/split_anim3.gif"><img src="/assets/images/2013-03-13-activity-split-animation/split_anim3.gif" alt="split_anim3" /></a></p>

<p>The idea is fairly simple:</p>

<ol>
  <li>Save Activity A as a bitmap</li>
  <li>Split bitmap into 2 parts</li>
  <li>Pass the 2 bitmaps to Activity B</li>
  <li>Show the bitmaps on top of Activity B’s layout</li>
  <li>Animate the bitmaps outwards</li>
  <li>User is now seeing Activity B</li>
</ol>

<p>The implementation was not as straightforward as I thought. I ran into some difficulties on the way, but I found solutions to all the problems I encountered. Let’s go step by step.</p>

<p><strong>Note</strong>: This implementation requires holding a snapshot bitmap of the entire screen. For some devices that might be a very expensive operation due to low memory and/or large screen area. If you choose to use this animation - do it with care and don’t overuse it.</p>

<h2 id="save-as-bitmap">Save as Bitmap</h2>

<p>In order to get a bitmap of the Activity, we can use this code:</p>

<p>[sourcecode language=”java”]
View root = currActivity.getWindow().getDecorView().findViewById(android.R.id.content);
root.setDrawingCacheEnabled(true);
Bitmap bmp = root.getDrawingCache();
[/sourcecode]</p>

<p>On the first line, we get the root view for the activity. We find the view with the id of  _android.R.id.content, _which is the FrameLayout that exist on every layout and contains the layout you put on setContentView(). Here’s how it looks on <a href="http://developer.android.com/tools/help/hierarchy-viewer.html">HierarchyViewer</a>:</p>

<p><a href="/assets/images/2013-03-13-activity-split-animation/image14.png"><img src="/assets/images/2013-03-13-activity-split-animation/image_thumb14.png" alt="image" /></a></p>

<p>In order to get a bitmap of the root view, or any view for that matter, we call the <a href="http://developer.android.com/reference/android/view/View.html#getDrawingCache(boolean)">getDrawingCache()</a> method. This will return the cached bitmap of this view in case we have enabled the caching for it. That’s why we also call the <a href="http://developer.android.com/reference/android/view/View.html#setDrawingCacheEnabled(boolean)">setDrawingCacheEnabled</a>() before that. If there isn’t a cached bitmap for the view – it’s been created on the spot.</p>

<h2 id="split-the-bitmap">Split the Bitmap</h2>

<p>In order to split the bitmap, I wrote this code:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">Bitmap</span> <span class="n">mBmp1</span> <span class="o">=</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">createBitmap</span><span class="o">(</span><span class="n">bmp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">bmp</span><span class="o">.</span><span class="na">getWidth</span><span class="o">(),</span> <span class="n">splitYCoord</span><span class="o">);</span>
<span class="nc">Bitmap</span> <span class="n">mBmp2</span> <span class="o">=</span> <span class="nc">Bitmap</span><span class="o">.</span><span class="na">createBitmap</span><span class="o">(</span><span class="n">bmp</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">splitYCoord</span><span class="o">,</span> <span class="n">bmp</span><span class="o">.</span><span class="na">getWidth</span><span class="o">(),</span> <span class="n">bmp</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">-</span> <span class="n">splitYCoord</span><span class="o">);</span></code></pre></figure>

<p>_bmp _is the main Bitmap for the entire Activity.
_splitYCoord _is the Y coordinate of the splitting point.</p>

<p>I create 2 smaller bitmaps. mBmp1 is the upper part of the larger bitmap and mBmp2 is the bottom part. Each part’s height is determined by the splitYCoord.</p>

<h2 id="pass-the-bitmaps-to-the-next-activity">Pass the bitmaps to the next Activity</h2>

<p>After I have the 2 bitmaps, I want to start the next Activity and put them on top of its layout. That way the user will see Activity A’s layout where in fact we already moved on to Activity B.</p>

<p>At first, I wanted to pass them as <a href="http://developer.android.com/reference/android/content/Intent.html#putExtra(java.lang.String, android.os.Parcelable)">Extras</a> of the Intent, it’s possible since Bitmap is <a href="http://developer.android.com/reference/android/os/Parcelable.html">Parcelable</a> . The problem is the bitmaps are too large to transport in an Intent, due to size limitation for IPCs. This is the error I got:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"> <span class="o">!!!</span> <span class="no">FAILED</span> <span class="no">BINDER</span> <span class="no">TRANSACTION</span> <span class="o">!!!</span></code></pre></figure>

<p>There are few workarounds for this, including writing the bitmaps into a file and then read them back on the other end. I found the easiest and fastest way will be to just keep them as data members in a common area. I created a static class to contain the bitmaps and all the logic to create and animate them. More on that later.</p>

<h2 id="show-the-bitmaps-on-activity-b">Show the bitmaps on Activity B</h2>

<p>After I start Activity B, disabling any default activity animation using <a href="http://developer.android.com/reference/android/app/Activity.html#overridePendingTransition(int, int)">overridePendingTransition</a>(), I create 2 ImageViews to contain the previously created bitmaps, and presenting them on screen. I do that before calling _setContentView() _to avoid seeing Activity B’s layout ahead of time.</p>

<p>The ImageViews are added directly to the Window of the activity. This allows the ImageViews be on top of the soon-to-be inflated layout and gives more flexibility when deciding the location of each one of them on the screen.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">ImageView</span> <span class="n">imageView</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageView</span><span class="o">(</span><span class="n">destActivity</span><span class="o">);</span>
<span class="n">imageView</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bmp</span><span class="o">);</span>

<span class="nc">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span> <span class="n">windowParams</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">();</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">gravity</span> <span class="o">=</span> <span class="nc">Gravity</span><span class="o">.</span><span class="na">TOP</span><span class="o">;</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">loc</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">loc</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="nc">ViewGroup</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">WRAP_CONTENT</span><span class="o">;</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="nc">ViewGroup</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">WRAP_CONTENT</span><span class="o">;</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">flags</span> <span class="o">=</span>
                <span class="nc">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_LAYOUT_IN_SCREEN</span><span class="o">;</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">format</span> <span class="o">=</span> <span class="nc">PixelFormat</span><span class="o">.</span><span class="na">TRANSLUCENT</span><span class="o">;</span>
<span class="n">windowParams</span><span class="o">.</span><span class="na">windowAnimations</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="n">destActivity</span><span class="o">.</span><span class="na">getWindowManager</span><span class="o">().</span><span class="na">addView</span><span class="o">(</span><span class="n">imageView</span><span class="o">,</span> <span class="n">windowParams</span><span class="o">);</span></code></pre></figure>

<p>Pretty straightforward.</p>

<p>The gravity states where we’ll put our layout in the window. Since we calculated the X,Y position of the bitmaps relative to the top of the screen – we’ll set the gravity to TOP.</p>

<h2 id="animate-the-bitmaps">Animate the bitmaps</h2>

<p>After we created and positioned the bitmaps on Activity B, we can call <em>setContentView</em>() to inflate the Activity’s layout. After the layout is inflated we can start the animation that pushes the 2 bitmaps outwards, thus revealing the Activity’s layout.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">mSetAnim</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnimatorSet</span><span class="o">();</span>
<span class="n">mTopImage</span><span class="o">.</span><span class="na">setLayerType</span><span class="o">(</span><span class="nc">View</span><span class="o">.</span><span class="na">LAYER_TYPE_HARDWARE</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">mBottomImage</span><span class="o">.</span><span class="na">setLayerType</span><span class="o">(</span><span class="nc">View</span><span class="o">.</span><span class="na">LAYER_TYPE_HARDWARE</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">mSetAnim</span><span class="o">.</span><span class="na">addListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">Animator</span><span class="o">.</span><span class="na">AnimatorListener</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationEnd</span><span class="o">(</span><span class="nc">Animator</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">clean</span><span class="o">(</span><span class="n">destActivity</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationCancel</span><span class="o">(</span><span class="nc">Animator</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">clean</span><span class="o">(</span><span class="n">destActivity</span><span class="o">);</span>
                    <span class="o">}</span>
						<span class="o">...</span>
                <span class="o">});</span>

<span class="c1">// Animating the 2 parts away from each other</span>
<span class="nc">Animator</span> <span class="n">anim1</span> <span class="o">=</span> <span class="nc">ObjectAnimator</span><span class="o">.</span><span class="na">ofFloat</span><span class="o">(</span><span class="n">mTopImage</span><span class="o">,</span> <span class="n">translationY</span><span class="o">,</span> <span class="n">mTopImage</span><span class="o">.</span><span class="na">getHeight</span><span class="o">()</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="nc">Animator</span> <span class="n">anim2</span> <span class="o">=</span> <span class="nc">ObjectAnimator</span><span class="o">.</span><span class="na">ofFloat</span><span class="o">(</span><span class="n">mBottomImage</span><span class="o">,</span> <span class="n">translationY</span><span class="o">,</span> <span class="n">mBottomImage</span><span class="o">.</span><span class="na">getHeight</span><span class="o">());</span>

<span class="n">mSetAnim</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">);</span>
<span class="n">mSetAnim</span><span class="o">.</span><span class="na">playTogether</span><span class="o">(</span><span class="n">anim1</span><span class="o">,</span> <span class="n">anim2</span><span class="o">);</span>
<span class="n">mSetAnim</span><span class="o">.</span><span class="na">start</span><span class="o">();</span></code></pre></figure>

<p>The animation is a simple TranslationY animation that moves every ImageView outside the screen, each one to a different directions. I use hardware acceleration (read my <a href="http://udinic.wordpress.com/2013/03/04/android-app-to-the-challenge/">last blog post</a> to learn more about HW accelerated animations) and I do some cleaning after the animation is finished or canceled (removing hardware layer, removing the ImageViews from the window etc.).</p>

<h2 id="how-to-use-my-animation">How to use my Animation</h2>

<p>So I was debating with myself what’s the best way to make it easier to use, without limiting the developer too much. The easiest way was to create a base Activity that the developer can extend and the actions will be taken care of without too much effort. The reason I <strong>didn’t</strong> do that is because I **HATE **extending from other base activities just to get some more features. If your application has it’s own base activity it can be very frustrating if every library will demand you to extend from their own branded Activity.</p>

<p>That’s the reason I created a simple class with static methods that do all the work. here’s the API:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/**
 * Utility class to create a split activity animation
 *
 * @author Udi Cohen (@udinic)
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ActivitySplitAnimationUtil</span> <span class="o">{</span>

    <span class="cm">/**
     * Start a new Activity with a Split animation
     *
     * @param currActivity The current Activity
     * @param intent       The Intent needed tot start the new Activity
     * @param splitYCoord  The Y coordinate where we want to split the Activity on the animation. -1 will split the Activity equally
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">startActivity</span><span class="o">(</span><span class="nc">Activity</span> <span class="n">currActivity</span><span class="o">,</span> <span class="nc">Intent</span> <span class="n">intent</span><span class="o">,</span> <span class="kt">int</span> <span class="n">splitYCoord</span><span class="o">);</span>

    <span class="cm">/**
     * Start a new Activity with a Split animation right in the middle of the Activity
     *
     * @param currActivity The current Activity
     * @param intent       The Intent needed tot start the new Activity
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">startActivity</span><span class="o">(</span><span class="nc">Activity</span> <span class="n">currActivity</span><span class="o">,</span> <span class="nc">Intent</span> <span class="n">intent</span><span class="o">);</span>

    <span class="cm">/**
     * Preparing the graphics on the destination Activity.
     * Should be called on the destination activity on Activity#onCreate() BEFORE setContentView()
     *
     * @param destActivity the destination Activity
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">prepareAnimation</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Activity</span> <span class="n">destActivity</span><span class="o">);</span>

    <span class="cm">/**
     * Start the animation the reveals the destination Activity
     * Should be called on the destination activity on Activity#onCreate() AFTER setContentView()
     *
     * @param destActivity the destination Activity
     * @param duration The duration of the animation
     * @param interpolator The interpulator to use for the animation. null for no interpulation.
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">animate</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Activity</span> <span class="n">destActivity</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">TimeInterpolator</span> <span class="n">interpolator</span><span class="o">);</span>

    <span class="cm">/**
     * Start the animation that reveals the destination Activity
     * Should be called on the destination activity on Activity#onCreate() AFTER setContentView()
     *
     * @param destActivity the destination Activity
     * @param duration The duration of the animation
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">animate</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Activity</span> <span class="n">destActivity</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">);</span>

    <span class="cm">/**
     * Cancel an in progress animation
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">cancel</span><span class="o">();</span>
<span class="o">}</span></code></pre></figure>

<p>In order to use it, just call this from Activity A when you want to animate to Activity B:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">ActivitySplitAnimationUtil</span><span class="o">.</span><span class="na">startActivity</span><span class="o">(</span><span class="nc">Activity1</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="nc">Activity1</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="nc">Activity2</span><span class="o">.</span><span class="na">class</span><span class="o">));</span></code></pre></figure>

<p>And call this on Activity B’s <em>onCreate</em>():</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Preparing the 2 images to be split</span>
<span class="nc">ActivitySplitAnimationUtil</span><span class="o">.</span><span class="na">prepareAnimation</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// Setting the Activity's layout</span>
<span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">act_two</span><span class="o">);</span>

<span class="c1">// Animating the items to be open, revealing the new activity.</span>
<span class="c1">// Animation duration of 1 second</span>
<span class="nc">ActivitySplitAnimationUtil</span><span class="o">.</span><span class="na">animate</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="mi">1000</span><span class="o">);</span></code></pre></figure>

<p>That’s it!</p>

<p>No need to extend anything, just 3 simple calls to static methods.</p>

<p>The code supports API14+ but it can easily be converted to work on older devices using <a href="https://github.com/JakeWharton/NineOldAndroids">NineOldAndroid</a>.</p>

<p>The repository is here:</p>

<p><a href="https://github.com/Udinic/ActivitySplitAnimation">https://github.com/Udinic/ActivitySplitAnimation</a></p>

<p>Use it, Fork it, Extend it.</p>

<h2 id="whats-next">What’s next</h2>

<p>There are more things that can be done to extends it:</p>

<ol>
  <li>Vertical splitting – Let the activity split also to the sides.</li>
  <li>Split the activity to more than 2 parts</li>
  <li>You name it!</li>
</ol>

	  </div>

		
		<ul class="tag_box list-unstyled list-inline">
		  <li><i class="fa fa-folder-open"></i></li>
		  
		  
			 
				<li><a href="/categories.html#Android-ref">
					Android</span>
					,
				</a></li>
			 
				<li><a href="/categories.html#Animation-ref">
					Animation</span>
					
				</a></li>
			
		  
		</ul>
		  
		
		<ul class="tag_box list-inline">
		  <li><i class="fa fa-tags"></i></li>
		  
		  
			 
				<li>
					<a href="/tags.html#activity-ref">
					activity
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#activity animation-ref">
					activity animation
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#Android-ref">
					Android
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#animatiion-ref">
					animatiion
					,
					</a>
				</li>
			 
				<li>
					<a href="/tags.html#split animation-ref">
					split animation
					
					</a>
				</li>
			
		  
		  
		</ul>
		  


	<div align="center" class="author-container">
		<figure class="author-img-post">
			<img src="http://www.gravatar.com/avatar/107169775092a3ef4ae94fad5695613a" class="img-circle author-image" />			
		</figure>
        <h4 class="section-title">Written by Udi Cohen</h4>
	</div>
	<div class="share-container">					
      <section class="share" align="center">
        <p class="section-title">Share this post:</p>
        <a class="btn btn-default btn-sm twitter" href="http://twitter.com/share?text=Activity Split Animation&via=udinic"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" 
           onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+window.location.href, 'facebook-share','width=580,height=296');return false;">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
        <a class="btn btn-default btn-sm reddit"
           onclick="window.open('http://www.reddit.com/submit?url='+window.location.href+'&title=Activity Split Animation', 'reddit-share', 'width=580,height=530');return false;">
          <i class="fa fa-reddit fa-lg"></i>
          Reddit
        </a>
      </section>

    </div>

    <!-- <div class="clearfix"></div> -->

	<!-- <hr> -->
	
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'udinic-blog';
    var disqus_identifier = '/2013/03/13/activity-split-animation/';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

	</div>
	








</article>
<div class="clearfix"></div>



		<footer>
			<p>
				&copy; 2025 Udi Cohen with Jekyll. Theme: Customized (based of <a href="https://github.com/dbtek/dbyll">dbyll</a> by dbtek).
			</p>
		</footer>
	</div>

	<script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/app.js"></script>
</body>
</html>

